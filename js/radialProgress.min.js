function radialProgress(t){function n(){function t(t){"function"==typeof s&&s.call()}d.each(function(n){function d(t){var n=(f-m)/(w-m),i=Math.min(360*n,360);i=i*Math.PI/180,x.datum(i),x.transition().duration(u).attrTween("d",r),n>1&&(b.datum(Math.min(360*(n-1),360)*Math.PI/180),b.transition().delay(u).duration(u).attrTween("d",e)),P.datum(Math.round(100*n)),P.transition().duration(u).tween("text",a)}var l=d3.select(this).selectAll("svg").data([n]),s=l.enter().append("svg").attr("class","radial-svg").append("g");i(),l.attr("width",c).attr("height",h);var v=s.append("g").attr("class","component").attr("cursor","pointer").on("click",t);A.endAngle(360*(Math.PI/180)),v.append("rect").attr("class","background").attr("width",_width).attr("height",_height),v.append("path").attr("transform","translate("+_width/2+","+_width/2+")").attr("d",A),v.append("text").attr("class","label").attr("transform","translate("+_width/2+","+(_width+p)+")").text(g);l.select("g").attr("transform","translate("+o.left+","+o.top+")");A.endAngle(_),s.append("g").attr("class","arcs");var x=l.select(".arcs").selectAll(".arc").data(n);x.enter().append("path").attr("class","arc").attr("transform","translate("+_width/2+","+_width/2+")").attr("d",A);var b=l.select(".arcs").selectAll(".arc2").data(n);b.enter().append("path").attr("class","arc2").attr("transform","translate("+_width/2+","+_width/2+")").attr("d",M),s.append("g").attr("class","labels");var P=l.select(".labels").selectAll(".label").data(n);P.enter().append("text").attr("class","label").attr("y",_width/2+p/3).attr("x",_width/2).attr("cursor","pointer").attr("width",_width).text(function(t){return Math.round((f-m)/(w-m)*100)+"%"}).style("font-size",p+"px").on("click",t),x.exit().transition().duration(500).attr("x",1e3).remove(),d(l)})}function a(t){var n=d3.interpolate(x,t);return x=n(0),function(t){x=n(t),this.textContent=Math.round(n(t))+"%"}}function r(t){var n=d3.interpolate(_,t);return function(t){return _=n(t),A.endAngle(n(t))()}}function e(t){var n=d3.interpolate(v,t);return function(t){return M.endAngle(n(t))()}}function i(){_width=l-o.right-o.left-o.top-o.bottom,_height=_width,p=.2*_width,A.outerRadius(_width/2),A.innerRadius(_width/2*.85),M.outerRadius(_width/2*.85),M.innerRadius(_width/2*.85-_width/2*.15)}var d,l,s,u=1e3,o={top:0,right:0,bottom:0,left:0},c=150,h=150,g="",p=10,f=0,m=0,w=100,_=0,v=0,x=0,A=d3.svg.arc().startAngle(0*(Math.PI/180)),M=d3.svg.arc().startAngle(0*(Math.PI/180)).endAngle(0);return d=d3.select(t),n.render=function(){return i(),n(),n},n.value=function(t){return arguments.length?(f=[t],d.datum([f]),n):f},n.margin=function(t){return arguments.length?(o=t,n):o},n.diameter=function(t){return arguments.length?(l=t,n):l},n.minValue=function(t){return arguments.length?(m=t,n):m},n.maxValue=function(t){return arguments.length?(w=t,n):w},n.label=function(t){return arguments.length?(g=t,n):g},n._duration=function(t){return arguments.length?(u=t,n):u},n.onClick=function(t){return arguments.length?(s=t,n):s},n}